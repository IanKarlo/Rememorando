{"ast":null,"code":"import { firestore, auth } from 'config.js';\nvar objetos = firestore.collection(\"objetos\");\nexport function criarObjeto(usuarioConectado, nomeDoObjeto, desc, local, ok) {\n  console.log(\"Adicionando objeto...\");\n  objetos.add({\n    \"owner\": usuarioConectado,\n    \"nome\": nomeDoObjeto,\n    \"desc\": desc,\n    \"local\": local\n  }).then(doc => {\n    ok(doc.id);\n  });\n}\nexport function editarObjeto(id, usuarioConectado, nomeDoObjeto, desc, local, ok) {\n  console.log(\"Modificando objeto (\" + id + \")...\");\n  objetos.doc(id).set({\n    \"owner\": usuarioConectado,\n    \"nome\": nomeDoObjeto,\n    \"desc\": desc,\n    \"local\": local\n  }).then(() => {\n    console.log(\"Documento alterado.\");\n  });\n}\nexport function removerObjeto(id) {\n  console.log(\"Removendo objeto(\" + id + \") ...\");\n  objetos.doc(id).delete().then(() => {\n    console.log(\"Removido.\");\n  });\n}\nexport function listarObjetos(initfn, fn) {\n  console.log(\"Listando objetos...\");\n  initfn();\n  var objetosDoUsuario = objetos.where(\"owner\", \"==\", auth.currentUser.uid);\n  objetosDoUsuario.get().then(function (snapshot) {\n    snapshot.forEach(doc => {\n      var dados = doc.data();\n      fn(dados);\n    });\n  });\n}","map":{"version":3,"sources":["/home/CIN/gvo/Desktop/Routine/src/firebase/objetos.js"],"names":["firestore","auth","objetos","collection","criarObjeto","usuarioConectado","nomeDoObjeto","desc","local","ok","console","log","add","then","doc","id","editarObjeto","set","removerObjeto","delete","listarObjetos","initfn","fn","objetosDoUsuario","where","currentUser","uid","get","snapshot","forEach","dados","data"],"mappings":"AAAA,SAAQA,SAAR,EAAmBC,IAAnB,QAA8B,WAA9B;AAEA,IAAIC,OAAO,GAAGF,SAAS,CAACG,UAAV,CAAqB,SAArB,CAAd;AAEA,OAAO,SAASC,WAAT,CAAqBC,gBAArB,EAAuCC,YAAvC,EAAqDC,IAArD,EAA2DC,KAA3D,EAAkEC,EAAlE,EAAqE;AACxEC,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AAEAT,EAAAA,OAAO,CAACU,GAAR,CAAY;AACR,aAASP,gBADD;AAER,YAAQC,YAFA;AAGR,YAAQC,IAHA;AAIR,aAASC;AAJD,GAAZ,EAKGK,IALH,CAKSC,GAAD,IAAS;AAACL,IAAAA,EAAE,CAACK,GAAG,CAACC,EAAL,CAAF;AAAW,GAL7B;AAMH;AAED,OAAO,SAASC,YAAT,CAAsBD,EAAtB,EAA0BV,gBAA1B,EAA4CC,YAA5C,EAA0DC,IAA1D,EAAgEC,KAAhE,EAAuEC,EAAvE,EAA0E;AAC7EC,EAAAA,OAAO,CAACC,GAAR,CAAY,yBAAuBI,EAAvB,GAA0B,MAAtC;AAEAb,EAAAA,OAAO,CAACY,GAAR,CAAYC,EAAZ,EAAgBE,GAAhB,CAAoB;AAChB,aAASZ,gBADO;AAEhB,YAAQC,YAFQ;AAGhB,YAAQC,IAHQ;AAIhB,aAASC;AAJO,GAApB,EAKGK,IALH,CAKQ,MAAM;AAACH,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AAAmC,GALlD;AAMH;AAED,OAAO,SAASO,aAAT,CAAuBH,EAAvB,EAA0B;AAC7BL,EAAAA,OAAO,CAACC,GAAR,CAAY,sBAAoBI,EAApB,GAAuB,OAAnC;AACAb,EAAAA,OAAO,CAACY,GAAR,CAAYC,EAAZ,EAAgBI,MAAhB,GAAyBN,IAAzB,CAA8B,MAAM;AAACH,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AAAyB,GAA9D;AACH;AAED,OAAO,SAASS,aAAT,CAAuBC,MAAvB,EAA+BC,EAA/B,EAAkC;AACrCZ,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAU,EAAAA,MAAM;AAEN,MAAIE,gBAAgB,GAAGrB,OAAO,CAACsB,KAAR,CAAc,OAAd,EAAuB,IAAvB,EAA6BvB,IAAI,CAACwB,WAAL,CAAiBC,GAA9C,CAAvB;AACAH,EAAAA,gBAAgB,CAACI,GAAjB,GAAuBd,IAAvB,CAA4B,UAASe,QAAT,EAAkB;AAC1CA,IAAAA,QAAQ,CAACC,OAAT,CAAkBf,GAAD,IAAS;AACtB,UAAIgB,KAAK,GAAGhB,GAAG,CAACiB,IAAJ,EAAZ;AACAT,MAAAA,EAAE,CAACQ,KAAD,CAAF;AACH,KAHD;AAIH,GALD;AAMH","sourcesContent":["import {firestore, auth} from 'config.js'\n\nvar objetos = firestore.collection(\"objetos\")\n\nexport function criarObjeto(usuarioConectado, nomeDoObjeto, desc, local, ok){\n    console.log(\"Adicionando objeto...\")\n\n    objetos.add({\n        \"owner\": usuarioConectado,\n        \"nome\": nomeDoObjeto,\n        \"desc\": desc,\n        \"local\": local\n    }).then((doc) => {ok(doc.id)})\n}\n\nexport function editarObjeto(id, usuarioConectado, nomeDoObjeto, desc, local, ok){\n    console.log(\"Modificando objeto (\"+id+\")...\")\n\n    objetos.doc(id).set({\n        \"owner\": usuarioConectado,\n        \"nome\": nomeDoObjeto,\n        \"desc\": desc,\n        \"local\": local\n    }).then(() => {console.log(\"Documento alterado.\")})\n}\n\nexport function removerObjeto(id){\n    console.log(\"Removendo objeto(\"+id+\") ...\")\n    objetos.doc(id).delete().then(() => {console.log(\"Removido.\")})\n}\n\nexport function listarObjetos(initfn, fn){\n    console.log(\"Listando objetos...\")\n    initfn()\n\n    var objetosDoUsuario = objetos.where(\"owner\", \"==\", auth.currentUser.uid)\n    objetosDoUsuario.get().then(function(snapshot){\n        snapshot.forEach((doc) => {\n            var dados = doc.data()\n            fn(dados)\n        })\n    })\n}\n"]},"metadata":{},"sourceType":"module"}